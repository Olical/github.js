/**
 * GitHub JavaScript API v0.0.0
 * https://github.com/Wolfy87/github.js
 */(function(a){function b(a){var b=null,c=null;this.setOptions(a);for(b=0;b<this.apiClasses.length;b+=1)c=this.apiClasses[b],this[c.key]=new c.apiClass,this[c.key].instance=this}function c(a){var b=null;if(!this.options)this.options=a||{};else for(b in a)a.hasOwnProperty(b)&&(this.options[b]=a[b])}function d(a){this.setOptions({method:"GET",async:!0,url:null,user:null,password:null,data:null}),this.setOptions(a)}function e(a){d.call(this,a)}function f(a){this.setOptions({rootUrl:"https://api.github.com",urlTemplate:null,urlData:null}),e.call(this,a)}function g(){}b.implement=function(a,b){this.prototype[a]=b},b.prototype.apiClasses=[],b.registerApi=function(a,b){this.prototype.apiClasses.push({key:a,apiClass:b})},b.implement("setOptions",c),d.prototype.setOptions=c,d.prototype.send=function(a){var b=new XMLHttpRequest;b.open(this.options.method,this.options.url,this.options.async),this.options.user&&this.options.password&&b.setRequestHeader("Authorization","Basic "+btoa(this.options.user+":"+this.options.password)),this.options.async&&a&&b.addEventListener("readystatechange",function(){b.readyState===4&&(b.status>=200&&b.status<300?a.call(null,b.responseText||!0):a.call(null,!1))}),b.send(JSON.stringify(this.options.data));if(!this.options.async)return b.responseText},e.prototype.setOptions=d.prototype.setOptions,e.prototype.handleResponse=function(a){return typeof a=="string"?JSON.parse(a):a},e.prototype.send=function(a){var b=this;if(this.options.async)d.prototype.send.call(this,function(c){a.call(null,b.handleResponse(c))});else return b.handleResponse(d.prototype.send.call(this))},f.prototype.setOptions=e.prototype.setOptions,f.prototype.handleResponse=e.prototype.handleResponse,f.prototype.buildUrl=function(){var a=this.options.rootUrl+this.options.urlTemplate,b=this.options.urlData,c=null;if(b)for(c in b)b.hasOwnProperty(c)&&(a=a.replace("${"+c+"}",b[c]));this.setOptions({url:a})},f.prototype.send=function(a){var b=this;this.buildUrl();if(this.options.async)e.prototype.send.call(this,function(b){a.call(null,b)});else return e.prototype.send.call(this)},b.implement("authenticate",function(a,b){this.setOptions({user:a,password:b})}),b.implement("deAuthenticate",function(){this.setOptions({user:null,password:null})}),b.implement("get",function(a,b){var c=this.options,d=new f({async:b?!0:!1});d.setOptions(a),c.user&&c.password&&d.setOptions({user:c.user,password:c.password});if(b)d.send(b);else return d.send()}),g.prototype.create=function(a,b){return this.instance.get({urlTemplate:"/gists",method:"POST",data:a},b)},g.prototype.edit=function(a,b,c){return this.instance.get({urlTemplate:"/gists/${id}",urlData:{id:a},method:"PATCH",data:b},c)},g.prototype.remove=function(a,b){return this.instance.get({urlTemplate:"/gists/${id}",urlData:{id:a},method:"DELETE"},b)},g.prototype.get=function(a){return this.instance.get({urlTemplate:"/gists"},a)},g.prototype.getPublic=function(a){return this.instance.get({urlTemplate:"/gists/public"},a)},g.prototype.getStarred=function(a){return this.instance.get({urlTemplate:"/gists/starred"},a)},g.prototype.getFromUser=function(a,b){return this.instance.get({urlTemplate:"/users/${user}/gists",urlData:{user:a}},b)},g.prototype.getById=function(a,b){return this.instance.get({urlTemplate:"/gists/${id}",urlData:{id:a}},b)},g.prototype.fork=function(a,b){return this.instance.get({urlTemplate:"/gists/${id}/fork",urlData:{id:a},method:"POST"},b)},g.prototype.addStar=function(a,b){return this.instance.get({urlTemplate:"/gists/${id}/star",urlData:{id:a},method:"PUT"},b)},g.prototype.removeStar=function(a,b){return this.instance.get({urlTemplate:"/gists/${id}/star",urlData:{id:a},method:"DELETE"},b)},g.prototype.starred=function(a,b){return this.instance.get({urlTemplate:"/gists/${id}/star",urlData:{id:a}},b)},b.registerApi("gists",g),a.GitHub=b})(this);