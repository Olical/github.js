/**
 * GitHub JavaScript API v0.0.2
 * https://github.com/Wolfy87/github.js
 */(function(a){function b(a){var c=null,d=null;this.setOptions(a);for(c in this)this[c]instanceof b.APIObject&&(this[c].instance=this)}function c(a){var b=null;if(!this.options)this.options=a||{};else for(b in a)a.hasOwnProperty(b)&&(this.options[b]=a[b])}function d(a){this.setOptions({method:"GET",async:!0,url:null,user:null,password:null,data:null}),this.setOptions(a)}function e(a){d.call(this,a)}function f(a){this.setOptions({rootUrl:"https://api.github.com",urlTemplate:null,urlData:null}),e.call(this,a)}b.extend=function(a,b){this[a]=b},b.extend("implement",function(a,b){this.prototype[a]=b}),b.extend("APIObject",function(){}),b.implement("setOptions",c),d.prototype.setOptions=c,d.prototype.handleStatus=function(a){return a.status>=200&&a.status<400?a.responseText?a.responseText:!0:!1},d.prototype.send=function(a){var b=new XMLHttpRequest;b.open(this.options.method,this.options.url,this.options.async),this.options.user&&this.options.password&&b.setRequestHeader("Authorization","Basic "+btoa(this.options.user+":"+this.options.password)),this.options.async&&a&&b.addEventListener("readystatechange",function(){b.readyState===4&&a.call(null,this.handleStatus(b))}),b.send(JSON.stringify(this.options.data));if(!this.options.async)return this.handleStatus(b)},e.prototype.setOptions=d.prototype.setOptions,e.prototype.handleStatus=d.prototype.handleStatus,e.prototype.handleResponse=function(a){return typeof a=="string"&&a?JSON.parse(a):a},e.prototype.send=function(a){var b=this;if(!this.options.async)return b.handleResponse(d.prototype.send.call(this));d.prototype.send.call(this,function(c){a.call(null,b.handleResponse(c))})},f.prototype.setOptions=e.prototype.setOptions,f.prototype.handleResponse=e.prototype.handleResponse,f.prototype.handleStatus=e.prototype.handleStatus,f.prototype.buildUrl=function(){var a=this.options.rootUrl+this.options.urlTemplate,b=this.options.urlData,c=null;if(b)for(c in b)b.hasOwnProperty(c)&&(a=a.replace("${"+c+"}",b[c]));this.setOptions({url:a})},f.prototype.send=function(a){var b=this;this.buildUrl();if(!this.options.async)return e.prototype.send.call(this);e.prototype.send.call(this,function(b){a.call(null,b)})},b.implement("authenticate",function(a,b){this.setOptions({user:a,password:b})}),b.implement("deAuthenticate",function(){this.setOptions({user:null,password:null})}),b.implement("get",function(a,b){var c=this.options,d=new f({async:b?!0:!1});d.setOptions(a),c.user&&c.password&&d.setOptions({user:c.user,password:c.password});if(!b)return d.send();d.send(b)});var g=new b.APIObject;g.create=function(a,b){return this.instance.get({urlTemplate:"/gists",method:"POST",data:a},b)},g.edit=function(a,b,c){return this.instance.get({urlTemplate:"/gists/${id}",urlData:{id:a},method:"PATCH",data:b},c)},g.remove=function(a,b){return this.instance.get({urlTemplate:"/gists/${id}",urlData:{id:a},method:"DELETE"},b)},g.get=function(a){return this.instance.get({urlTemplate:"/gists"},a)},g.getPublic=function(a){return this.instance.get({urlTemplate:"/gists/public"},a)},g.getStarred=function(a){return this.instance.get({urlTemplate:"/gists/starred"},a)},g.getFromUser=function(a,b){return this.instance.get({urlTemplate:"/users/${user}/gists",urlData:{user:a}},b)},g.getById=function(a,b){return this.instance.get({urlTemplate:"/gists/${id}",urlData:{id:a}},b)},g.fork=function(a,b){return this.instance.get({urlTemplate:"/gists/${id}/fork",urlData:{id:a},method:"POST"},b)},g.star=function(a,b){return this.instance.get({urlTemplate:"/gists/${id}/star",urlData:{id:a},method:"PUT"},b)},g.unstar=function(a,b){return this.instance.get({urlTemplate:"/gists/${id}/star",urlData:{id:a},method:"DELETE"},b)},g.starred=function(a,b){return this.instance.get({urlTemplate:"/gists/${id}/star",urlData:{id:a}},b)},g.getComments=function(a,b){return this.instance.get({urlTemplate:"/gists/${id}/comments",urlData:{id:a}},b)},g.getComment=function(a,b){return this.instance.get({urlTemplate:"/gists/comments/${id}",urlData:{id:a}},b)},g.comment=function(a,b,c){return this.instance.get({urlTemplate:"/gists/${id}/comments",urlData:{id:a},data:{body:b},method:"POST"},c)},g.editComment=function(a,b,c){return this.instance.get({urlTemplate:"/gists/comments/${id}",urlData:{id:a},data:{body:b},method:"PATCH"},c)},g.removeComment=function(a,b){return this.instance.get({urlTemplate:"/gists/comments/${id}",urlData:{id:a},method:"DELETE"},b)},b.implement("gists",g);var h=new b.APIObject;h.getBlob=function(a,b,c,d){return this.instance.get({urlTemplate:"/repos/${user}/${repo}/git/blobs/${sha}",urlData:{user:a,repo:b,sha:c}},d)},h.createBlob=function(a,b,c,d){return this.instance.get({urlTemplate:"/repos/${user}/${repo}/git/blobs",urlData:{user:a,repo:b},data:c,method:"POST"},d)},b.implement("gitData",h),a.GitHub=b})(this);